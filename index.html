<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Z U C C</title>
<style>
#video, .seq {
  width: 300px;

  position: absolute;
  top: 0;
  left: 0;
}

.seq {
  visibility: hidden;
}

#slider {
  position: absolute;
  top: 400px;
}

</style>
</head>
<body>
  <div id="container">
    <video id="video" src="./zucc.mp4" autoplay muted playsinline></video>
  </div>

  <input id="slider" type="range" min=0 max=111 disabled>
<script>
const seqs = 28;

window.addEventListener('DOMContentLoaded', _ => {
  console.log('dom loaded');

  const video  = document.getElementById('video'),
        container  = document.getElementById('container'),
        imgs = [],
        slider = document.getElementById('slider');

  slider.value = 0;

  for(let i=0; i<seqs; i++) {
    let img = document.createElement('img');
    img.classList += 'seq';
    img.src = `./seq/${i}.png`;
    imgs.push(img);
    
    container.appendChild(img);
  }

  video.addEventListener('loadeddata', e => {
    console.log('video loaded');

    slider.removeAttribute('disabled');

    slider.addEventListener('input', e => {
      const t = ~~(e.target.value / 4);

      requestAnimationFrame(_ => {
        for(let i=0; i<seqs; i++) {
          imgs[i].style.visibility = i == t ? 'visible' : 'hidden';
        }
      });
    });

  });
});
</script>
</body>
</html>
